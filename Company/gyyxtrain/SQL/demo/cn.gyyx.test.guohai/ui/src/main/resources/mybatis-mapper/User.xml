<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="cn.gyyx.test.guohai.dao.UserMapper">
  	<sql id="userColumns">
  		account,passwd,emp_id
  	</sql>
  	<select id="selectByAccount" parameterType="String" resultMap="userResultMap">
  		select * from game_person where account=#{account}
  	</select>
  	<!-- where in  -->
  	<select id="selectByAccounts" resultMap="userResultMap">
  		SELECT <include refid="userColumns"/>
  		FROM game_person
  		WHERE account in 
  		<foreach item="item" collection="list" separator="," open="(" close=")" index="index">
  			#{item}
  		</foreach>
  	</select>
  	
  	
  	<insert id="insertUser" parameterType="UserInfo">
		INSERT INTO [game_person]([account],[passwd],[is_protect],[emp_id])
     		VALUES(#{account},#{password},0,#{emp})
  	</insert>
  	
  	<resultMap type="UserInfo" id="userResultMap">
  		<result property="emp" column="emp_id"/>
  		<result property="accountName" column="account"/>
  		<result property="password" column="passwd"/>
  		<result property="userCode" column="code"/>
  	</resultMap>
  </mapper>